<%- include('../required/header.ejs') %>
<style>
.r-detail{
    gap:1rem;
height:50px;
margin-top:-1.4rem;
}
.r-detail-1{
    background:#ff4a131e;
    min-height:60px;
    border-radius:5px;
}
.r-detail-1 h5{
    color:#ff4b13;
    opacity:90%;
}
@media(max-width:574px){
    .r-detail{
  flex-direction:column;
padding-top:8rem;
}
.icon-member{
    padding-top:6rem;
    margin-left:.2rem;
}
.padd{
    padding-right:.7rem;
    padding-left:.7rem;
}

}   
.table{
    padding-top:1rem;
    margin:0 auto;
    overflow-x:auto;
}

.table tr {
  color: #ffffff;
}

.table td{
padding-left:1.5rem;
border: 1px solid #d7c8c8;
  opacity: 90%;
}
.table th, .table td{
  padding: 1rem;
  padding-left:1.5rem;
  vertical-align: top;
  border: 1px solid #d7c8c8;
  opacity: 90%;
}
.table tbody tr {
  color: #4f4f4f;
  
}
.table thead th {
  vertical-align: bottom;
  border: 0px solid #e9e0e0;
  background: #ff4b13;
  opacity: 90%;
}
.image-section{
    width:150px; height:150px;
    border-radius:50%;
    border:1px solid #4f4f4f;
}
@media (max-width:630px){
    .profile-contain{
        display:flex;
        flex-direction:column;
       
    }
    .detail-section{
        text-align:center;
    }
}
</style>
<main>
    <main id="block20">
        <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="bx-shadow">
                    <% var displayed = false; %>
								
									<% for (var j = 0; j < rooms.length; j++) { %>
											<% if (id === rooms[j]._id && !displayed) { %>
												<% displayed = true; %>
                    <p class="heading-search font-weight-bold text-left pl-2 pb-0">Search
                        result <span> for </span><span><%= rooms[j].room_name %></span></p>
                        <% } %>
						<% } %>
					
			
                </div>
            </div>

            
            <div class="col-lg-12 col-md-12 col-sm-12 search-div2">
                <div class="bx-shadow2">
                    <div class=" proo pl-4 pr-4 mt-5 ">


                                               <!-- <table class="tab pb-4" style="margin:0 auto;">
                                <thead>
                                    <tr>
                                        <th scope="row">Room</th>
                                        
									<% for (var j = 0; j < rooms.length; j++) { %>
                                        <% if (id === rooms[j]._id) { %>
                                        <td scope="row"><%= rooms[j].room_name %></td>
                                    <% } %>
                                    <% } %>
                                    </tr>
                                    <tr>
                                        <th scope="row">Block</th>
                                        <% for (var i = 0; i < blocks.length; i++) { %>
                                            <% for (var j = 0; j < rooms.length; j++) { %>
                                                <% if (rooms[j].blockid === blocks[i]._id) { %>
                                                    <% if (id === rooms[j]._id) { %>
                                        <td scope="row"><%= blocks[i].block_name %></td>
                                        	  
							<% } %>
                            <% } %>
                        <% } %>
                    <% } %>
                                    </tr>
                                    <tr>
                                        <th>capacity</th>
                                        <% for (var j = 0; j < rooms.length; j++) { %>
                                            <% if (id === rooms[j]._id) { %>
                                        <td scope="row"><%= rooms[j].room_capacity %></td>
                                        <% } %>
                                        <% } %>
                                                 
                                    </tr>
                                    <tr>
                                        <th>Type</th>
                                        <% for (var j = 0; j < rooms.length; j++) { %>
                                            <% if (id === rooms[j]._id) { %>
                                        <td scope="row"><%= rooms[j].type === "boys" ? "Boys" : "Girls" %> hostel</td>
                                        <% } %>
                                        <% } %>
                                    </tr>
                                    <tr>
                                        <th style="vertical-align: middle;">Members</th>
                                        <td>
                                            <table  style="width:100%;">
                                                <tr>
                                                  <td style="vertical-align: middle;">Year</td>
                                                  <td style="vertical-align: middle;">Members</td>
                                                </tr>
                                                
                                                ble>      
                                    </td>
                                    </tr>
                                </thead>                  
                            </table>
                            <br> -->
                        <div class="r-detail col-lg-12 d-flex  justify-content-center">
                            <div class="col-lg-4 col-md-4 col-sm-4  r-detail-1 " >
                                <div class="d-flex mt-3 ml-2">
                                    <h5 class=""><strong>Block</strong></h5>
                                    <% for (var i = 0; i < blocks.length; i++) { %>
                                        <% for (var j = 0; j < rooms.length; j++) { %>
                                            <% if (rooms[j].blockid === blocks[i]._id) { %>
                                                <% if (id === rooms[j]._id) { %>
                                    <h5 style="position:absolute; right:1.5rem;"><strong><%= blocks[i].block_name %></strong></h5>
                                        <% } %>
                                        <% } %>
                                    <% } %>
                                <% } %>
                                  
                                   
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-4 col-sm-4  r-detail-1" >
                                <div class="d-flex mt-3 ml-2">

                                    <h5 class=""><strong>Room</strong></h5>
                                    <% for (var j = 0; j < rooms.length; j++) { %>
                                        <% if (id === rooms[j]._id) { %>
                                            <h5 style="position:absolute; right:1.5rem;"><strong><%= rooms[j].room_name %></strong></h5>
                                    <% } %>
                                    <% } %>
                                   
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-4 col-sm-4 r-detail-1" >
                                <div class="d-flex mt-3 ml-2">
                                    <h5 class=""><strong>Capacity</strong></h5>
                                    <% for (var j = 0; j < rooms.length; j++) { %>
                                        <% if (id === rooms[j]._id) { %>
                             
                                    <h5 style="position:absolute; right:1.5rem;"><strong><%= rooms[j].room_capacity %></strong></h5>
                                    <% } %>
                                    <% } %>
                                    
                                </div>
                            </div>
                        </div>
                        <div class="icon-member mt-5 d-flex">
                            <i class="bx bx-male" style="font-size:32px;"></i>
                            <h5 class="mt-2 ml-2" ><strong>Members</strong></h5>
                        </div>
                        <div class="padd">
                            <div class="table-responsive "  style="overflow-x:auto;">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th scope="col">Year</th>
                                            <th scope="col">Members</th>
                                            
                                        </tr>
                                    </thead>
                                    <% const uniqueYears = [...new Set(members.membersInRoom.map(member => member.academicyear))];
                                                if (uniqueYears.length > 0) { %>
                                                  <% uniqueYears.forEach(year => { %>
                                    <tbody>
                                                    <tr>
                                                      <td  scope="row"><%= year %></td>
                                                      <td style="min-width:230px;">
                                                        <ul>
                                                          <% members.membersInRoom.forEach(member => {
                                                            if (member.academicyear === year) { %>
                                                              <li><%= member.student_name %></li>
                                                          <% }}); %>
                                                        </ul>
                                                      </td>
                                                    </tr>
                                                  <% }); %>
                                                <% } else { %>
                                                  <tr>
                                                    <td colspan="2">No members</td>
                                                  </tr>
                                                <% } %>
                                            </tbody>
                                    <!-- <tbody>
                                        <tr>
                                            <th>2019</th>
                                            <td >
                                               
                                                    <li>
                                                        Rinchen Thinley Yangzom                                              
                                                     </li>
                                                    <li>
                                                        Rinchen Thinley
                                                    </li>
                                                    <li>
                                                        Rinchen Thinley
                                                    </li>
                                                    <li>
                                                        Rinchen Thinley
                                                    </li>
                                          
                                            </td>
                                        </tr>
                                        <tr>
                                            <th scope="row">2022</th>
                                            <td>Choki Dorji</td>
                                   
                                        </tr>
                                    </tbody> -->
                                </table>
                    
                        </div>
                        <!--search user -->
                        <br><br>
                        
                         <!-- <div class="col-lg-12 col-md-4 col-sm-12 " >
                                <div class="profile-ima">
                                    <img src="">
                                </div>
                                <div class="d-flex mt-3 ml-2">
                                    <h5 class=""><strong>Room</strong></h5>
                                    <h5 style="position:absolute; right:1.5rem;"><strong>A1</strong></h5>
                                </div>
                            </div> -->
                            <!-- <div class="col-lg-4 col-md-4 col-sm-4 r-detail-1" >
                                <div class="d-flex mt-3 ml-2">
                                    <h5 class=""><strong>Capacity</strong></h5>
                                    <h5 style="position:absolute; right:1.5rem;"><strong>5</strong></h5>
                                </div>
                            </div> -->
                        <div class="icon-member mt-5 d-flex">
                            <i class="bx bx-male" style="font-size:32px;"></i>
                            <h5 class="mt-2 ml-2" ><strong>Members</strong></h5>
                        </div>
                        <div class="padd">
                            <div class="table-responsive "  style="overflow-x:auto;">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th scope="col">Year</th>
                                            <th scope="col">Members</th>
                                            
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <th scope="row">2019</th>
                                            <td style="min-width:230px;">
                                               
                                                    <li>
                                                        Rinchen Thinley Yangzom                                              
                                                     </li>
                                                    <li>
                                                        Rinchen Thinley
                                                    </li>
                                                    <li>
                                                        Rinchen Thinley
                                                    </li>
                                                    <li>
                                                        Rinchen Thinley
                                                    </li>
                                          
                                            </td>
                                        </tr>
                                        <tr>
                                            <th scope="row">2022</th>
                                            <td>Choki Dorji</td>
                                   
                                        </tr>
                                    </tbody>
                                </table>
                    
                        </div>
                    </div>
                        
                        <br><br>
                    </div>
                </div>
            </div>
    </main>
</main>
<br><br><br><br><br><br><br><br> <br><br><br><br><br><br><br><br> <br>
</section>

</body>

</html>
